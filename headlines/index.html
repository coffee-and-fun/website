<!DOCTYPE html>
<html class="scroll-smooth antialiased" lang="en" data-theme="coffee">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <!-- Primary Meta Tags -->
    <title>Just the Headlines - Clean News Without Ads | Coffee & Fun</title>
    <meta name="title" content="Just the Headlines - Clean News Without Ads | Coffee & Fun" />
    <meta name="description" content="Get just the headlines from trusted sources. Clean, minimal news covering breaking news, tech, politics, sports, entertainment, and gaming - updated daily without ads or clutter." />
    <meta name="keywords" content="headlines, news, minimal news, clean news, breaking news, world news, technology news, ad-free news, Coffee and Fun" />
    <meta name="author" content="Coffee & Fun LLC" />
    <meta name="publisher" content="Coffee & Fun LLC" />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="rating" content="general" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/headlines/" />
    <meta property="og:title" content="Just the Headlines - Clean News Without Ads" />
    <meta property="og:description" content="Get just the headlines from trusted sources. Clean, minimal news updated daily without ads or clutter." />
    <meta property="og:image" content="/assets/images/social/pages/headlines.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Just the Headlines news aggregator" />
    <meta property="og:site_name" content="Coffee & Fun" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="/headlines/" />
    <meta name="twitter:title" content="Just the Headlines - Clean News Without Ads" />
    <meta name="twitter:description" content="Get just the headlines from trusted sources. Clean news updated daily without ads." />
    <meta name="twitter:image" content="/assets/images/social/pages/headlines.png" />
    <meta name="twitter:image:alt" content="Just the Headlines" />
    <meta name="twitter:site" content="@bycoffeeandfun" />
    <meta name="twitter:creator" content="@bycoffeeandfun" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="/headlines/" />
    
    <!-- Favicon & Icons -->
    <link rel="icon" href="/assets/images/favicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="/assets/images/social/192.png" />
    
    <!-- PWA & Mobile -->
    <link rel="manifest" href="/assets/images/social/site-headlines.webmanifest" />
    <meta name="theme-color" content="#8B4513" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Headlines" />
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Just the Headlines",
        "description": "Clean news aggregator providing headlines without ads or clutter",
        "url": "/headlines/",
        "applicationCategory": "NewsApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Organization",
            "name": "Coffee & Fun LLC",
            "url": "https://www.coffeeandfun.com",
            "sameAs": ["https://twitter.com/bycoffeeandfun"]
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "150"
        }
    }
    </script>
    
    <!-- Preconnect to External Resources -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <link rel="preconnect" href="https://unpkg.com" />
    
    <!-- External Resources -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.24/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://unpkg.com/vue@3"></script>
    
    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.getRegistrations().then((registrations) => {
                    registrations.forEach(registration => {
                        registration.unregister();
                    });
                    
                    navigator.serviceWorker.register('/service-worker.js')
                        .then((registration) => {
                            console.log('✅ Service Worker registered:', registration.scope);
                        })
                        .catch((error) => {
                            console.warn('Service Worker registration failed:', error);
                        });
                });
            });
        }
    </script>
    
    <style>
        [v-cloak] { display: none; }
        
        .fade-in {
            animation: fadeIn 0.3s ease-out;
            animation-fill-mode: both;
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(10px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        .headline-card {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .headline-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }
        
        .badge-pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .category-badge {
            transition: all 0.2s ease;
        }
        
        .category-badge:hover {
            transform: translateY(-2px);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(139, 69, 19, 0.3);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 69, 19, 0.5);
        }
    </style>
</head>

<body class="bg-base-100 min-h-screen">
    <div v-cloak id="app" class="container mx-auto max-w-4xl p-4 sm:p-6">
        <!-- Header -->
        <header class="text-center mb-8 sm:mb-12">
            <h1 class="text-3xl sm:text-4xl font-bold text-base-content mb-3">
                Just the Headlines
            </h1>
            <p class="text-base-content/70 text-sm sm:text-base">
                Latest news from trusted sources • Updated daily • No ads, no clutter
            </p>
            <div class="mt-4 flex justify-center gap-2">
                <span class="badge badge-primary">{{ allArticles.length }} articles</span>
                <span class="badge badge-secondary">{{ availableCategories.length - 1 }} categories</span>
                <span class="badge badge-accent">Ad-free</span>
            </div>
        </header>

        <!-- Category Filter -->
        <div class="mb-8">
            <div class="flex flex-wrap justify-center gap-2 mb-6">
                <button 
                    v-for="cat in availableCategories" 
                    :key="cat"
                    @click="selectedCategory = cat"
                    class="btn btn-sm category-badge"
                    :class="selectedCategory === cat ? 'btn-primary shadow-md' : 'btn-outline btn-primary'"
                >
                    {{ getCategoryLabel(cat) }}
                </button>
            </div>
            
            <!-- Active Filter Info -->
            <div v-if="selectedCategory !== 'all'" class="text-center">
                <p class="text-sm text-base-content/60">
                    Showing {{ filteredArticles.length }} {{ selectedCategory }} articles
                </p>
            </div>
        </div>

        <!-- Loading State -->
        <div v-if="isLoading" class="text-center py-12">
            <span class="loading loading-spinner loading-lg"></span>
            <p class="mt-4 text-base-content/60">Loading headlines...</p>
        </div>

        <!-- Error State -->
        <div v-else-if="error" class="alert alert-error">
            <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span>{{ error }}</span>
        </div>

        <!-- News Articles -->
        <div v-else class="space-y-4">
            <!-- Trending Section -->
            <div v-if="trendingArticles.length > 0" class="mb-8">
                <h2 class="text-xl font-bold mb-4 text-base-content flex items-center gap-2">
                    <span class="text-2xl badge-pulse">🔥</span>
                    Trending Now
                </h2>
                <div class="grid gap-3 mb-6">
                    <article 
                        v-for="(article, index) in trendingArticles" 
                        :key="'trending-' + index"
                        class="card bg-gradient-to-r from-primary/10 to-secondary/10 border border-primary/20 shadow-sm headline-card fade-in"
                        @click="openArticle(article.link)"
                        :style="{ animationDelay: (index * 0.05) + 's' }"
                    >
                        <div class="card-body p-4">
                            <div class="flex items-start justify-between mb-2">
                                <span class="badge badge-primary badge-sm">TRENDING</span>
                                <span class="text-xs text-base-content/60">{{ article.relativeTime }}</span>
                            </div>
                            <h3 class="font-semibold leading-tight text-base-content hover:text-primary transition-colors">
                                {{ article.headline }}
                            </h3>
                            <div class="flex items-center justify-between mt-3 text-xs text-base-content/60">
                                <div class="flex items-center gap-2">
                                    <span class="badge badge-outline badge-xs">{{ article.source }}</span>
                                    <span title="Credibility score">{{ article.credibility.badge }}</span>
                                </div>
                                <span>{{ article.readTime }}</span>
                            </div>
                        </div>
                    </article>
                </div>
            </div>

            <!-- Main Articles Grid -->
            <div class="grid gap-4">
                <article 
                    v-for="(article, index) in displayedArticles" 
                    :key="article.link + index"
                    class="card bg-base-200 shadow-sm headline-card fade-in relative"
                    @click="openArticle(article.link)"
                    :style="{ animationDelay: Math.min(index * 0.02, 0.5) + 's' }"
                >
                    <!-- Special Badges -->
                    <div v-if="article.isTrending || article.isPopular" class="absolute top-3 right-3 z-10">
                        <span v-if="article.isTrending" class="badge badge-error badge-xs">🔥 HOT</span>
                        <span v-else-if="article.isPopular" class="badge badge-warning badge-xs">⭐ POPULAR</span>
                    </div>

                    <div class="card-body p-4 sm:p-6">
                        <div class="flex items-start justify-between mb-3">
                            <div class="flex items-center gap-2 flex-wrap">
                                <span class="badge badge-outline badge-sm">{{ article.source }}</span>
                                <span class="text-lg" :title="`Credibility: ${article.credibility.score}%`">
                                    {{ article.credibility.badge }}
                                </span>
                            </div>
                            <div class="text-right text-xs text-base-content/60">
                                <div>{{ article.relativeTime }}</div>
                                <div class="mt-1">{{ article.readTime }}</div>
                            </div>
                        </div>
                        
                        <h2 class="card-title text-base sm:text-lg font-semibold leading-tight text-base-content hover:text-primary transition-colors">
                            {{ article.headline }}
                        </h2>
                    </div>
                </article>
            </div>

            <!-- Load More Button -->
            <div v-if="hasMoreArticles" class="text-center mt-8">
                <button @click="loadMore" class="btn btn-primary btn-wide">
                    Load More Headlines
                </button>
            </div>

            <!-- No Articles State -->
            <div v-if="filteredArticles.length === 0" class="text-center py-12">
                <p class="text-xl text-base-content/60">No articles found in this category</p>
                <button @click="selectedCategory = 'all'" class="btn btn-primary btn-sm mt-4">
                    View All Articles
                </button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center mt-16 pb-8 text-base-content/50 text-sm border-t pt-8">
            <p>Just the Headlines • Updated daily</p>
            <p class="mt-1">Built by Coffee & Fun LLC</p>
            <div class="mt-4 flex justify-center gap-4 text-xs">
                <a href="https://twitter.com/bycoffeeandfun" target="_blank" class="hover:text-primary">
                    Twitter
                </a>
                <span>•</span>
                <a href="mailto:hello@coffeeandfun.com" class="hover:text-primary">
                    Contact
                </a>
            </div>
        </footer>
    </div>

    <script>
        const { createApp } = Vue;
        
        createApp({
            data() {
                return {
                    allArticles: {{ news | json }},
                    isLoading: false,
                    error: null,
                    selectedCategory: 'all',
                    articlesPerPage: 30,
                    currentPage: 1,
                    categoryLabels: {
                        'all': '📰 All',
                        'general': '🌍 General',
                        'technology': '💻 Technology',
                        'science': '🔬 Science',
                        'entertainment': '🎬 Entertainment',
                        'politics': '🏛️ Politics',
                        'nfl': '🏈 NFL',
                        'basketball': '🏀 Basketball',
                        'soccer': '⚽ Soccer',
                        'baseball': '⚾ Baseball',
                        'sports': '🏃 Sports',
                        'gaming': '🎮 Gaming',
                        'videogames': '🕹️ Video Games',
                        'music': '🎵 Music',
                        'skateboarding': '🛹 Skateboarding'
                    },
                    sourceCredibility: {
                        'BBC News': { score: 95, badge: '🏆' },
                        'Reuters': { score: 95, badge: '🏆' },
                        'Associated Press': { score: 94, badge: '🏆' },
                        'NPR': { score: 92, badge: '🥇' },
                        'The Guardian': { score: 90, badge: '🥇' },
                        'CNN': { score: 85, badge: '🥈' },
                        'Bloomberg': { score: 88, badge: '🥈' },
                        'Hacker News': { score: 82, badge: '🥉' },
                        'Reddit WorldNews': { score: 75, badge: '📰' },
                        'Reddit Technology': { score: 75, badge: '📰' },
                        'Reddit Science': { score: 78, badge: '📰' },
                        'Reddit Entertainment': { score: 72, badge: '📰' },
                        'Reddit Politics': { score: 70, badge: '📰' },
                        'Reddit NFL': { score: 74, badge: '📰' },
                        'Reddit NBA': { score: 74, badge: '📰' },
                        'Reddit Sports': { score: 74, badge: '📰' },
                        'Reddit Soccer': { score: 76, badge: '📰' },
                        'Reddit Baseball': { score: 74, badge: '📰' },
                        'Reddit Gaming': { score: 71, badge: '📰' },
                        'Reddit Games': { score: 73, badge: '📰' },
                        'Reddit Music': { score: 70, badge: '📰' },
                        'Reddit Skateboarding': { score: 69, badge: '📰' }
                    }
                };
            },
            
            computed: {
                availableCategories() {
                    const categories = ['all', ...new Set(this.allArticles.map(a => a.category).filter(Boolean))];
                    return categories;
                },
                
                filteredArticles() {
                    let articles = this.selectedCategory === 'all' 
                        ? this.allArticles 
                        : this.allArticles.filter(article => article.category === this.selectedCategory);
                    
                    return articles.map(article => ({
                        ...article,
                        relativeTime: this.getRelativeTime(article.publishedAt),
                        readTime: this.estimateReadTime(article.headline),
                        credibility: this.getSourceCredibility(article.source),
                        isPopular: this.isPopularArticle(article),
                        isTrending: this.isTrendingArticle(article)
                    })).sort((a, b) => {
                        if (a.isTrending && !b.isTrending) return -1;
                        if (!a.isTrending && b.isTrending) return 1;
                        if (a.isPopular && !b.isPopular) return -1;
                        if (!a.isPopular && b.isPopular) return 1;
                        return new Date(b.publishedAt) - new Date(a.publishedAt);
                    });
                },
                
                displayedArticles() {
                    const nonTrending = this.filteredArticles.filter(a => !a.isTrending);
                    return nonTrending.slice(0, this.currentPage * this.articlesPerPage);
                },
                
                trendingArticles() {
                    return this.filteredArticles.filter(a => a.isTrending).slice(0, 3);
                },
                
                hasMoreArticles() {
                    const nonTrending = this.filteredArticles.filter(a => !a.isTrending);
                    return nonTrending.length > this.currentPage * this.articlesPerPage;
                }
            },
            
            watch: {
                selectedCategory() {
                    this.currentPage = 1;
                }
            },
            
            mounted() {
                console.log(`✅ Loaded ${this.allArticles.length} articles`);
            },
            
            methods: {
                getCategoryLabel(category) {
                    return this.categoryLabels[category] || `📄 ${category.charAt(0).toUpperCase() + category.slice(1)}`;
                },
                
                getRelativeTime(dateString) {
                    const date = new Date(dateString);
                    const now = new Date();
                    const diffMs = now - date;
                    const diffMins = Math.floor(diffMs / (1000 * 60));
                    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
                    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
                    
                    if (diffMins < 1) return 'Just now';
                    if (diffMins < 60) return `${diffMins}m ago`;
                    if (diffHours < 24) return `${diffHours}h ago`;
                    if (diffDays < 7) return `${diffDays}d ago`;
                    
                    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                },
                
                estimateReadTime(headline) {
                    const wordCount = headline.split(' ').length;
                    if (wordCount <= 8) return '15s read';
                    if (wordCount <= 15) return '30s read';
                    return '45s read';
                },
                
                getSourceCredibility(source) {
                    return this.sourceCredibility[source] || { score: 70, badge: '📰' };
                },
                
                isPopularArticle(article) {
                    const credibilityScore = this.getSourceCredibility(article.source).score;
                    const hasEngagingWords = /breaking|exclusive|major|announces|reveals|update/i.test(article.headline);
                    const isRecent = (new Date() - new Date(article.publishedAt)) < (6 * 60 * 60 * 1000);
                    
                    return (credibilityScore >= 90 && hasEngagingWords) || (credibilityScore >= 85 && isRecent);
                },
                
                isTrendingArticle(article) {
                    const credibilityScore = this.getSourceCredibility(article.source).score;
                    const hasViralWords = /breaking|urgent|alert|developing|exclusive|major/i.test(article.headline);
                    const isFresh = (new Date() - new Date(article.publishedAt)) < (2 * 60 * 60 * 1000);
                    
                    return hasViralWords && isFresh && credibilityScore >= 80;
                },
                
                openArticle(url) {
                    if (url && url !== '#') {
                        window.open(url, '_blank', 'noopener,noreferrer');
                    }
                },
                
                loadMore() {
                    this.currentPage++;
                }
            }
        }).mount('#app');
    </script>
</body>
</html>