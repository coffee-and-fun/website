<!DOCTYPE html>
<html class="brand-color-background scroll-smooth antialiased" lang="en" data-theme="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <!-- Primary Meta Tags -->
    <title>Forgot My Membership Card - Never Miss a Discount | Coffee & Fun</title>
    <meta name="title" content="Forgot My Membership Card - Never Miss a Discount | Coffee & Fun" />
    <meta name="description" content="Left your membership card at home? Access instant discounts at checkout with our digital backup cards. Pull up the barcode, scan, and save. Perfect for those 'Oh no!' moments at the register." />
    <meta name="keywords" content="membership cards, digital cards, store discounts, loyalty cards, barcode scanner, forgot card, Coffee and Fun" />
    <meta name="author" content="Coffee & Fun LLC" />
    <meta name="publisher" content="Coffee & Fun LLC" />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="rating" content="general" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/forgotten-cards/" />
    <meta property="og:title" content="Forgot My Membership Card - Never Miss a Discount" />
    <meta property="og:description" content="Access instant discounts at checkout even when you've left your membership card at home. Quick barcode access for popular stores." />
    <meta property="og:image" content="/assets/images/social/pages/forgotten-cards.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Digital membership cards backup service" />
    <meta property="og:site_name" content="Coffee & Fun" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="/forgotten-cards/" />
    <meta name="twitter:title" content="Forgot My Membership Card - Never Miss a Discount" />
    <meta name="twitter:description" content="Access instant discounts at checkout. Quick barcode access when you've left your card at home." />
    <meta name="twitter:image" content="/assets/images/social/pages/forgotten-cards.png" />
    <meta name="twitter:image:alt" content="Digital membership cards backup" />
    <meta name="twitter:site" content="@bycoffeeandfun" />
    <meta name="twitter:creator" content="@bycoffeeandfun" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="/forgotten-cards/" />
    
    <!-- Favicon & Icons -->
    <link rel="icon" href="/assets/images/favicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="/assets/images/social/192.png" />
    <link rel="icon" href="/assets/images/social/192.png" sizes="192x192" type="image/png" />
    
    <!-- PWA & Mobile -->
    <link rel="manifest" href="/assets/images/social/cards.webmanifest" />
    <meta name="theme-color" content="#fef5ec" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Membership Cards" />
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Forgot My Membership Card",
        "description": "Digital backup for membership cards - access discounts when you've left your card at home",
        "url": "/forgotten-cards/",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Organization",
            "name": "Coffee & Fun LLC",
            "url": "https://www.coffeeandfun.com",
            "sameAs": ["https://x.com/bycoffeeandfun"]
        },
        "featureList": [
            "Instant barcode access",
            "Multiple store cards",
            "Mobile optimized",
            "No signup required"
        ]
    }
    </script>
    
    {% bundledCss %}
    {% include scripts.html %}
    
    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then((registrations) => {
                registrations.forEach(registration => {
                    registration.unregister();
                });
                
                navigator.serviceWorker.register('/service-worker.js')
                    .then(() => console.log('‚úÖ Service worker registered'))
                    .catch((err) => console.error('Service worker error:', err));
            });
        }
    </script>
    
    <style>
        /* Card hover effects */
        .card-item {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        /* Logo container styling */
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 200px;
            border-radius: 0.75rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .logo-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, transparent 0%, rgba(0, 0, 0, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .logo-container:hover::before {
            opacity: 1;
        }
        
        /* Button animations */
        .btn-show-card {
            position: relative;
            overflow: hidden;
        }
        
        .btn-show-card::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .btn-show-card:hover::before {
            width: 300px;
            height: 300px;
        }
        
        /* Modal improvements */
        .modal-box img {
            border-radius: 0.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        /* Responsive grid adjustments */
        @media (max-width: 768px) {
            .card-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Add to phone button pulse */
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
        
        #a2hs-button.visible {
            animation: pulse 2s infinite;
        }
        
        #a2hs-button:hover {
            animation: none;
        }
        
        /* Story modal content */
        .story-content {
            line-height: 1.8;
            color: #4a5568;
        }
        
        .story-content p {
            margin-bottom: 1rem;
        }
    </style>
</head>

<body class="font-sans">
    <main class="mx-auto max-w-7xl p-6">
        <div class="flex flex-col items-center min-h-screen">
            <!-- Header Section -->
            <div class="max-w-xl text-center mx-auto mb-8">
                <div class="mx-auto mb-6">
                    <img alt="Coffee & Fun LLC logo"
                         src="/assets/images/coffee-and-fun-logo-dark.png" 
                         width="140" 
                         height="140"
                         loading="lazy"
                         class="mx-auto" />
                </div>
                
                <h1 class="text-4xl font-bold mb-4 text-gray-900">
                    Forgot My Membership Card
                </h1>
                <p class="text-lg text-gray-600 mb-2">
                    Never miss a discount again
                </p>
                <p class="text-sm text-gray-500">
                    Quick access to membership barcodes when you need them most
                </p>
            </div>
            
            <!-- Action Buttons -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-xl mx-auto mb-12">
                <button class="btn btn-primary btn-outline" onclick="window.location.href='mailto:hello@coffeeandfun.com'">
                    ‚úâÔ∏è Contact Us
                </button>
                <button class="btn btn-primary btn-outline" id="a2hs-button" style="display: none;">
                    üì± Add to Phone
                </button>
                <button class="btn btn-primary btn-outline" onclick="my_info.showModal()">
                    ‚ÑπÔ∏è What is this?
                </button>
            </div>
            
            <!-- Cards Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto card-grid">
                {% for card in forgot.cards %}
                {% if card.active == true %}
                <div class="card-item">
                    <!-- Card Display -->
                    <div class="logo-container shadow-lg"
                         style="background-color: {{ card.background }}; color: {{ card.color }};">
                        <img src="/assets/images/forgotten/logos/{{ card.name }}.png" 
                             alt="{{ card.name }} logo"
                             class="max-w-full max-h-full p-4" />
                    </div>
                    
                    <!-- Action Buttons -->
                    <button class="btn btn-primary btn-show-card w-full mt-4" 
                            onclick="my_{{ card.name }}.showModal()">
                        <svg xmlns="http://www.w3.org/2000/svg" 
                             viewBox="0 0 24 24" 
                             fill="currentColor" 
                             class="w-5 h-5 mr-2">
                            <path d="M3 4v16h18V4H3zm16 14H5V6h14v12zm-7-9h5v2h-5zm0 3h5v2h-5zm-5-3h3v5H7z"/>
                        </svg>
                        Show Card
                    </button>
                    
                    <a href="{{ card.link }}" 
                       target="_blank"
                       rel="noopener noreferrer"
                       class="mt-3 text-sm font-medium text-blue-600 hover:text-blue-800 block text-center transition-colors">
                        Create Your Own Account ‚Üí
                    </a>
                </div>
                
                <!-- Card Modal -->
                <dialog id="my_{{ card.name }}" class="modal">
                    <div class="modal-box max-w-2xl">
                        <h3 class="font-bold text-lg mb-4">{{ card.name }} Card</h3>
                        <img src="/assets/images/forgotten/cards/{{ card.name }}.png" 
                             alt="{{ card.name }} membership card barcode"
                             class="w-full" />
                        <p class="mt-4 text-sm text-gray-600">
                            Show this barcode at checkout to receive your member discount.
                        </p>
                    </div>
                    <form method="dialog" class="modal-backdrop">
                        <button>Close</button>
                    </form>
                </dialog>
                {% endif %}
                {% endfor %}
            </div>
            
            <!-- Info Footer -->
            <div class="mt-12 text-center text-sm text-gray-500 max-w-2xl">
                <p>üí° Tip: Add this page to your home screen for quick access at checkout</p>
                <p class="mt-2">Remember to create your own accounts to earn personal rewards!</p>
            </div>
        </div>
    </main>
    
    <!-- Story Modal -->
    <dialog id="my_info" class="modal">
        <div class="modal-box max-w-2xl">
            <h3 class="font-bold text-lg mb-4">The Story Behind This Tool</h3>
            <div class="story-content">
                <p>
                    One day at Kroger, I was buying mouthwash when I realized I'd forgotten my membership card. 
                    Without it, the price was $12. With the membership discount? Only $7. 
                    That $5 difference might seem small, but it adds up!
                </p>
                <p>
                    That's when I decided to create this simple solution. Now, if you forget your card, 
                    you can quickly pull up the barcode and still get your discounts.
                </p>
                <p>
                    <strong>Important:</strong> It's always best to create your own account with stores to earn 
                    rewards personally. This tool is just a backup for those moments when life happens.
                </p>
                <p>
                    Next time you're at the counter without your card, don't stress‚Äîjust pull this up and save!
                </p>
            </div>
            <div class="modal-action">
                <form method="dialog">
                    <button class="btn">Got it!</button>
                </form>
            </div>
        </div>
    </dialog>
    
    {% include footer.liquid %}
    
    <!-- PWA Install Script -->
    <script>
        let deferredPrompt;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            const a2hsButton = document.getElementById('a2hs-button');
            if (a2hsButton) {
                a2hsButton.style.display = 'inline-flex';
                a2hsButton.classList.add('visible');
                
                a2hsButton.addEventListener('click', async () => {
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        const { outcome } = await deferredPrompt.userChoice;
                        
                        if (outcome === 'accepted') {
                            console.log('PWA installed');
                            a2hsButton.style.display = 'none';
                        }
                        deferredPrompt = null;
                    }
                });
            }
        });
        
        window.addEventListener('appinstalled', () => {
            console.log('PWA was installed');
            const a2hsButton = document.getElementById('a2hs-button');
            if (a2hsButton) {
                a2hsButton.style.display = 'none';
            }
        });
    </script>
</body>
</html>